(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{831:function(a,t,s){"use strict";s.r(t);var e=s(113),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"项目安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目安装"}},[a._v("#")]),a._v(" 项目安装")]),a._v(" "),s("h2",{attrs:{id:"环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境要求"}},[a._v("#")]),a._v(" 环境要求")]),a._v(" "),s("p",[s("code",[a._v("CatchAdmin")]),a._v(" 要求以下环境:")]),a._v(" "),s("ul",[s("li",[a._v("PHP >= "),s("code",[a._v("7.2.*")])]),a._v(" "),s("li",[a._v("Mysql >= "),s("code",[a._v("5.7.0")])]),a._v(" "),s("li",[s("code",[a._v("PDO")]),a._v(" Extension")]),a._v(" "),s("li",[s("code",[a._v("MBstring")]),a._v(" Extension")]),a._v(" "),s("li",[s("code",[a._v("CURL")]),a._v(" Extension")]),a._v(" "),s("li",[s("code",[a._v("ZIP")]),a._v(" Extension")]),a._v(" "),s("li",[s("code",[a._v("Composer")])])]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("一共需要安装两个项目，一是 PHP 的项目，二是 VUE 项目，请跟着下面的步骤走。")])]),a._v(" "),s("h2",{attrs:{id:"安装-php-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-php-项目"}},[a._v("#")]),a._v(" 安装 PHP 项目")]),a._v(" "),s("p",[a._v("首先需要安装"),s("code",[a._v("composer")]),a._v("包管理器。"),s("code",[a._v("MAC")]),a._v("以及"),s("code",[a._v("LINUX")]),a._v("可使用下面的命令, "),s("code",[a._v("windows")]),a._v("直接下载"),s("a",{attrs:{href:"https://getcomposer.org/download/",target:"_blank",rel:"noopener noreferrer"}},[a._v("composer.exe"),s("OutboundLink")],1),a._v("安装, 找到 "),s("code",[a._v("windows")]),a._v(" 版本下载。")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -sS http://install.phpcomposer.com/installer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" php\n\n// 由于某种原因，下载包会非常慢，所以需要修改镜像来加速，推荐阿里镜像。\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" config -g repo.packagist "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" https://mirrors.aliyun.com/composer/\n")])])]),s("h3",{attrs:{id:"安装一个空-laravel-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装一个空-laravel-项目"}},[a._v("#")]),a._v(" 安装一个空 Laravel 项目")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("composer create"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("project "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("prefer"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("dist laravel"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("laravel catchadmin\n")])])]),s("h3",{attrs:{id:"安装-catchadmin-核心依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-catchadmin-核心依赖"}},[a._v("#")]),a._v(" 安装 CatchAdmin 核心依赖")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("composer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("require")]),a._v(" jaguarjack"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("catchadmin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("laravel "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("ignore"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("platform"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("reqs\n")])])]),s("h3",{attrs:{id:"安装后台-按照提示输入对应信息即可"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装后台-按照提示输入对应信息即可"}},[a._v("#")]),a._v(" 安装后台, 按照提示输入对应信息即可")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("php artisan "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("install\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("install 又一个可选参数 --root=catch，默认模块会下载到该目录")])]),a._v(" "),s("h3",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),s("ul",[s("li",[a._v("安装会默认使用 "),s("code",[a._v("git clone https://github.com/JaguarJack/catch-laravel-modules.git")]),a._v(" 下载目录")]),a._v(" "),s("li",[a._v("安装会默认加入 "),s("code",[a._v("psr-4 autoload")]),a._v("，项目的命名空间 "),s("code",[a._v("CatchAdmin\\\\")])]),a._v(" "),s("li",[a._v("安装会默认执行 "),s("code",[a._v("composer dump-autoload")])])]),a._v(" "),s("p",[a._v("所以建议要安装 "),s("code",[a._v("Git")]),a._v(" 和 "),s("code",[a._v("Composer")]),a._v("，安装的时候会自动执行。")]),a._v(" "),s("h3",{attrs:{id:"启动后台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动后台"}},[a._v("#")]),a._v(" 启动后台")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[a._v("php artisan serve\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("注意不能直接访问 PHP 项目，导致 Exception，前后端分离，需要通过 API 接口形式访问，所以你需要安装 VUE 项目后台，看到数据的展示")])]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("如果你是第一次使用 VUE，建议先去看看 VUE 文档，了解一下。")])]),a._v(" "),s("h2",{attrs:{id:"下载-vue-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-vue-项目"}},[a._v("#")]),a._v(" 下载 vue 项目")]),a._v(" "),s("p",[a._v("在使用前端项目之前，你需要安装前端管理器，这个不多做解释了。推荐使用"),s("code",[a._v("yarn")]),a._v(" 安装，首先你需要安装 "),s("code",[a._v("yarn")]),a._v(" 管理器。使用淘宝镜像。")]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("如果安装不上，有各种各样的错误，别担心，一般都是网络问题。并不是项目问题，这个是很多使用者刚开始都有的问题。你只需要解决网络问题就行了。")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" registry https://registry.npm.taobao.org/\n")])])]),s("h4",{attrs:{id:"下载项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载项目"}},[a._v("#")]),a._v(" 下载项目")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/yanwenwu/catch-admin-vue.git\n")])])]),s("h4",{attrs:{id:"进入目录-使用-yarn-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入目录-使用-yarn-安装"}},[a._v("#")]),a._v(" 进入目录,使用 yarn 安装")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),s("h4",{attrs:{id:"配置接口地址-找到-vue-项目下的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置接口地址-找到-vue-项目下的"}},[a._v("#")]),a._v(" 配置接口地址，找到 vue 项目下的")]),a._v(" "),s("ul",[s("li",[s("code",[a._v(".env.development")]),a._v(" 文件是配置开发环境的 API 接口地址 (实际上就是 PHP 项目的地址)")])]),a._v(" "),s("h4",{attrs:{id:"启动开发模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动开发模式"}},[a._v("#")]),a._v(" 启动开发模式")]),a._v(" "),s("p",[a._v("请先在前端项目根目录下的"),s("code",[a._v(".env.development")]),a._v(" 文件设置 "),s("code",[a._v("VUE_APP_BASE_API")]),a._v("开发环境的 API 请求地址")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# just a flag")]),a._v("\nENV "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'development'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# base api")]),a._v("\nVUE_APP_BASE_API "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'http://127.0.0.1:9090'")]),a._v("\n")])])]),s("p",[a._v("然后启动项目")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run dev\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("vue 后台使用了是 "),s("code",[a._v("element admin")]),a._v(" "),s("a",{attrs:{href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/",target:"_blank",rel:"noopener noreferrer"}},[a._v("文档地址"),s("OutboundLink")],1)])]),a._v(" "),s("h2",{attrs:{id:"打包前端项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包前端项目"}},[a._v("#")]),a._v(" 打包前端项目")]),a._v(" "),s("p",[a._v("打包前请先配置正是环境 API 地址。在项目的根目录下的"),s("code",[a._v(".env.production")]),a._v("文件配置")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# just a flag\nENV = 'production'\n\n# base api\nVUE_APP_BASE_API = '正式环境的 API 地址'\n")])])]),s("p",[a._v("然后进行打包")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run build:prod\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("前端项目配置最好开启 "),s("code",[a._v("Gzip")]),a._v(",可以加速前端项目访问速度。")])]),a._v(" "),s("h4",{attrs:{id:"推荐配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推荐配置"}},[a._v("#")]),a._v(" 推荐配置")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("http "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    include       /etc/nginx/mime.types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    default_type  application/octet-stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    log_format  main  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$remote_addr")]),a._v(" - "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$remote_user")]),a._v(" ["),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$time_local")]),a._v('] "'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$request")]),a._v("\" '")]),a._v("\n                      "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$status")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$body_bytes_sent")]),a._v(' "'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$http_referer")]),a._v("\" '")]),a._v("\n                      "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\""),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$http_user_agent")]),a._v('" "'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$http_x_forwarded_for")]),a._v("\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    access_log  /var/log/nginx/access.log  main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    sendfile        on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#tcp_nopush     on;")]),a._v("\n\n    keepalive_timeout  "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#gzip 配置")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("gzip")]),a._v("  on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    gzip_min_length 1k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    gzip_comp_level "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    gzip_static on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    gzip_vary on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    gzip_buffers "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v(" 16k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n\n    include /etc/nginx/conf.d/*.conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);